<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
날짜타입 입력 테스트
<input type="text" class="input-datetype-hepler" >
전화번호 입력 테스트
<input type="text" class="input-datetype-hepler" >



<script src="//static.beansugar.org/jquery/jquery-2.1.1.min.js"></script>
<script>
	$(".input-datetype-hepler").keyup(function(){
//	var currPosition = getCaretPosition(this);
		var str = this.value
		str = str.replace(/([^0-9])+/g,"").slice(0,8);
		console.log(str);
		if(str.length<5){
		}else if(str.length<7){
			str = str.slice(0, 4)+"-"+str.slice(4, 6)
		}else{
			str = str.slice(0, 4)+"-"+str.slice(4, 6)+"-"+str.slice(6, 8);
		}
		var isValid = str.match(/(19|20)[0-9][0-9]-[01]?[0123]-[0123]?[0-9]/);
		console.log(str.match(/(19[0-9][0-9]|2[0-9][0-9][0-9])-[01]?[0123]-[0123]?[0-9]/));
//		if(!isValid){
//			//todo error message
//			$(this).css({"background-color":"red"});
//		}else{
//			$(this).css({"background-color":"white"});
//		}
		$(this).val(str);
//	setCaretPosition(this, currPosition);
	});

	$(".input-phone-helper").keyup(function(){
//	var currPosition = getCaretPosition(this);
		var str = this.value
		str = str.replace(/([^0-9])+/g,"").slice(0,8);
		console.log(str);
		if(str.length<4){
		}else if(str.length<6){
			str = str.slice(0, 4)+"-"+str.slice(4, 6)
		}else{
			str = str.slice(0, 4)+"-"+str.slice(4, 6)+"-"+str.slice(6, 8);
		}
//	str.match(/(19[0-9][0-9]|2[0-9][0-9][0-9])-[01]?[0123]-[0123]?[0-9]/);
		$(this).val(str);
//	setCaretPosition(this, currPosition);
	});
</script>
</body>
</html>